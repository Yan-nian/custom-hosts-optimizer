# 🛠️ 管理后台配置指南

本项目提供了管理后台，用于管理自定义域名配置。

## 🔐 访问管理后台

### 访问地址
```
https://your-worker-domain.workers.dev/admin-x7k9m3q2
```

**注意**: 为了安全考虑，建议自定义管理后台地址。详细配置请参考 [管理后台地址配置指南](ADMIN_PATH_CONFIG.md)。

## 🛡️ 安全配置

### API Key 管理

管理后台主要用于 API Key 的安全管理：

1. **设置 API Key**
   - 在管理后台的"系统设置"中设置复杂的 API Key
   - 用于外部 API 调用验证

2. **生成随机 Key**
   - 点击"生成随机 Key"自动生成安全的密钥
   - 避免使用弱密钥

3. **显示当前 Key**
   - 安全查看当前设置的 API Key

## 🎯 管理后台功能

### 📊 统计仪表板
- 显示总域名数量
- GitHub 域名数量
- 自定义域名数量

### ➕ 域名管理
- **单个添加**: 输入域名和描述，一键添加
- **批量添加**: 支持批量导入域名列表
- **域名优选**: 为指定域名执行 IP 优选
- **域名删除**: 删除不需要的域名
- **清空操作**: 一键清空所有自定义域名

### 🔄 实时操作
- 实时刷新域名列表
- 显示域名解析状态
- 显示添加时间和描述信息

## 📝 批量操作格式

在批量添加域名时，支持以下格式：

```
example1.com|第一个域名的描述
example2.com|第二个域名的描述
example3.com
cdn.example.com|CDN域名
```

每行一个域名，使用 `|` 分隔域名和描述，描述是可选的。

## 🚀 部署后配置

### 首次部署后：

1. **访问管理后台**
   ```
   https://your-worker-domain.workers.dev/admin
   ```

2. **使用默认账户登录**
   - 用户名: `admin`
   - 密码: `admin123`

3. **修改默认密码**（强烈推荐）
   ```bash
   wrangler secret put ADMIN_PASSWORD
   # 输入新的强密码
   ```

## 🔒 安全最佳实践

1. **自定义管理后台地址**
   - 修改默认的管理后台路径
   - 使用复杂且不易猜测的路径
   - 详见 [管理后台地址配置指南](ADMIN_PATH_CONFIG.md)

2. **设置强 API Key**
   - 在管理后台设置复杂的 API Key
   - 定期更换 API Key

3. **限制访问**
   - 只在可信网络环境下访问管理后台
   - 不要在公开场所分享管理地址

4. **备份配置**
   - 定期导出自定义域名配置
   - 保存重要域名列表的备份

## 🛠️ 故障排除

### 无法访问管理后台
1. 检查 Worker 是否部署成功
2. 确认访问地址正确（默认为 `/admin-x7k9m3q2`）
3. 检查网络连接

### 功能异常
1. 检查 KV 命名空间是否正确绑定
2. 确认 Worker 有足够的权限
3. 查看浏览器控制台错误信息

## 📞 技术支持

如果遇到问题，请：
1. 查看 Worker 日志
2. 检查 wrangler.toml 配置
3. 确认所有 secrets 已正确设置
4. 联系技术支持

---

**重要提醒**: 管理后台包含敏感操作，请务必保护好管理员账户信息，定期更换密码，并确保只有授权人员可以访问。
