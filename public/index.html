<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>优选自定义host - 智能 IP 优选 | 自定义域名加速工具</title>

  <meta name="description"
    content="优选自定义host 是一个智能 IP 优选工具，使用 Cloudflare Workers 和公共 DNS API 来加速访问自定义域名，解决访问慢的问题。支持自定义域名管理和智能优选。">
  <meta name="keywords" content="自定义域名加速,IP优选,Hosts工具,DNS优化,Cloudflare Workers,域名加速">
  <meta name="author" content="Yan-nian">
  <link rel="canonical" href="https://github-hosts.tinsfox.com" />

  <meta property="og:title" content="优选自定义host - 智能 IP 优选 | 自定义域名加速工具">
  <meta property="og:description" content="使用 Cloudflare Workers 和公共 DNS API 加速访问 GitHub，每小时自动更新，永久免费。">
  <meta property="og:image" content="https://github-hosts.tinsfox.com/og.svg">
  <meta property="og:url" content="https://github-hosts.tinsfox.com">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="GitHub Host">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="GitHub Host - 加速访问 GitHub">
  <meta name="twitter:description" content="使用 Cloudflare Workers 和公共 DNS API 加速访问 GitHub，解决访问慢的问题。">
  <meta name="twitter:image" content="https://github-hosts.tinsfox.com/og.svg">

  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#ffffff">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="icon" type="image/ico" href="/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <link rel="icon" type="image/png" href="/logo.png">
  <link rel="apple-touch-icon" href="/logo.svg">
  <link rel="preconnect" href="https://github.com">
  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <div class="header">
    <div class="logo-container">
      <img src="/logo.svg" alt="优选自定义host" class="logo" />
    </div>
    <h1>优选自定义host</h1>
    <p>使用 Cloudflare Workers 和公共 DNS API 智能优选域名 IP</p>
    <div class="admin-link">
      <a href="/admin" class="admin-button">管理后台登录</a>
    </div>
  </div>

  <!-- 主功能选项卡 -->
  <div class="tabs">
    <div class="tab active" data-tab="hosts">Hosts 文件</div>
    <div class="tab" data-tab="custom">自定义域名</div>
    <div class="tab" data-tab="api">API 文档</div>
    <div class="tab" data-tab="help">使用帮助</div>
  </div>

  <!-- Hosts 文件选项卡 -->
  <div class="tab-content active" id="hosts-tab">
    <h2>📋 当前 Hosts 内容</h2>
    <div class="control-panel">
      <label>
        <input type="checkbox" id="optimizeToggle"> 启用 IP 优选（响应时间优化）
      </label>
      <label>
        <input type="checkbox" id="customToggle" checked> 包含自定义域名
      </label>
      <button id="refreshHosts" class="btn btn-primary">刷新</button>
    </div>
    
    <div class="hosts-container">
      <div class="hosts-header">
        <span>Hosts 文件内容</span>
        <button class="copy-btn" id="copyHosts">复制</button>
      </div>
      <pre id="hosts">正在加载 hosts 内容...</pre>
    </div>

    <h3>📥 快速使用方法</h3>
    <div class="method-cards">
      <div class="method-card">
        <h4>SwitchHosts 工具</h4>
        <p>推荐使用，可自动更新</p>
        <ul>
          <li>URL: <code id="switchHostsUrl">https://github-hosts.tinsfox.com/hosts</code></li>
          <li>更新间隔：1小时</li>
        </ul>
        <button class="copy-btn" data-copy="switchHostsUrl">复制 URL</button>
      </div>
      <div class="method-card">
        <h4>命令行工具</h4>
        <p>一键安装和更新</p>
        <pre><code class="bash">curl -fsSL https://github.com/Yan-nian/hosts/releases/download/v0.0.1/install.sh | sudo bash</code></pre>
        <button class="copy-btn" data-copy="install-cmd">复制命令</button>
      </div>
    </div>
  </div>

  <!-- 自定义域名选项卡 -->
  <div class="tab-content" id="custom-tab">
    <h2>🎯 自定义域名管理</h2>
    <p>添加您需要加速的自定义域名，系统将自动为其进行 IP 优选。</p>
    
    <div class="custom-domain-form">
      <h3>单个添加域名</h3>
      <div class="form-group">
        <label for="domainInput">域名:</label>
        <input type="text" id="domainInput" placeholder="例如: example.com">
      </div>
      <div class="form-group">
        <label for="descriptionInput">描述 (可选):</label>
        <input type="text" id="descriptionInput" placeholder="域名用途描述">
      </div>
      <button id="addDomain" class="btn btn-primary">添加域名</button>
    </div>

    <div class="custom-domain-form">
      <h3>批量添加域名</h3>
      <div class="form-group">
        <label for="batchDomainsInput">域名列表:</label>
        <textarea id="batchDomainsInput" rows="8" placeholder="支持多种格式：
example1.com
example2.com,网站描述
example3.com 另一个网站
github.com,GitHub 官网

每行一个域名，可选择添加描述"></textarea>
        <small class="help-text">💡 支持多种格式：域名、域名,描述、域名 描述。每行一个域名。</small>
      </div>
      <button id="addBatchDomains" class="btn btn-primary">批量添加</button>
    </div>

    <div class="custom-domains-list">
      <h3>已添加的自定义域名</h3>
      <div id="customDomainsList">
        <p>请输入 API Key 查看自定义域名列表</p>
      </div>
    </div>
  </div>

  <!-- API 文档选项卡 -->
  <div class="tab-content" id="api-tab">
    <h2>🔧 API 接口文档</h2>
    <div class="api-section">
      <h3>基础接口</h3>
      <table class="api-table">
        <tr>
          <th>接口</th>
          <th>方法</th>
          <th>参数</th>
          <th>描述</th>
        </tr>
        <tr>
          <td>/hosts</td>
          <td><span class="method get">GET</span></td>
          <td>optimize, custom</td>
          <td>获取 hosts 文件内容</td>
        </tr>
        <tr>
          <td>/hosts.json</td>
          <td><span class="method get">GET</span></td>
          <td>optimize, custom</td>
          <td>获取 JSON 格式的数据</td>
        </tr>
        <tr>
          <td>/{domain}</td>
          <td><span class="method get">GET</span></td>
          <td>-</td>
          <td>获取指定域名的实时 DNS 解析结果</td>
        </tr>
      </table>

      <h3>管理接口（需要 API Key）</h3>
      <table class="api-table">
        <tr>
          <th>接口</th>
          <th>方法</th>
          <th>描述</th>
        </tr>
        <tr>
          <td>/api/custom-domains</td>
          <td><span class="method get">GET</span></td>
          <td>获取自定义域名列表</td>
        </tr>
        <tr>
          <td>/api/custom-domains</td>
          <td><span class="method post">POST</span></td>
          <td>添加自定义域名</td>
        </tr>
        <tr>
          <td>/api/custom-domains/{domain}</td>
          <td><span class="method delete">DELETE</span></td>
          <td>删除自定义域名</td>
        </tr>
        <tr>
          <td>/api/optimize/{domain}</td>
          <td><span class="method post">POST</span></td>
          <td>优选指定域名的 IP</td>
        </tr>
        <tr>
          <td>/reset</td>
          <td><span class="method post">POST</span></td>
          <td>清空缓存并重新获取数据</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- 使用帮助选项卡 -->
  <div class="tab-content" id="help-tab">
    <h2>� 使用帮助</h2>
    
    <h3>💻 命令行工具</h3>
    <h4>MacOS 用户</h4>
    <pre><code class="language-bash">sudo curl -fsSL https://github.com/Yan-nian/hosts/releases/download/v0.0.1/custom-hosts.darwin-arm64 -o custom-hosts && sudo chmod +x ./custom-hosts && ./custom-hosts</code></pre>

    <h4>Windows 用户</h4>
    <p>在管理员权限的 PowerShell 中执行：</p>
    <pre><code class="language-powershell">irm https://github.com/Yan-nian/hosts/releases/download/v0.0.1/custom-hosts.windows-amd64.exe | iex</code></pre>

    <h4>Linux 用户</h4>
    <pre><code class="language-bash">sudo curl -fsSL https://github.com/Yan-nian/hosts/releases/download/v0.0.1/custom-hosts.linux-amd64 -o custom-hosts && sudo chmod +x ./custom-hosts && ./custom-hosts</code></pre>

    <h3>🛠️ 手动更新</h3>
    <ol>
      <li>获取 hosts 内容并复制</li>
      <li>编辑本地 hosts 文件：
        <ul>
          <li>Windows：<code>C:\Windows\System32\drivers\etc\hosts</code></li>
          <li>MacOS/Linux：<code>/etc/hosts</code></li>
        </ul>
      </li>
      <li>粘贴内容并保存</li>
      <li>刷新 DNS 缓存：
        <ul>
          <li>Windows：<code>ipconfig /flushdns</code></li>
          <li>MacOS：<code>sudo killall -HUP mDNSResponder</code></li>
          <li>Linux：<code>sudo systemd-resolve --flush-caches</code></li>
        </ul>
      </li>
    </ol>

    <h3>❓ 常见问题</h3>
    <h4>权限问题</h4>
    <ul>
      <li>Windows：需要以管理员身份运行</li>
      <li>MacOS/Linux：需要 sudo 权限</li>
    </ul>

    <h4>IP 优选说明</h4>
    <ul>
      <li>启用后会测试多个 IP 的响应时间</li>
      <li>选择响应最快的 IP 地址</li>
      <li>处理时间可能较长，请耐心等待</li>
    </ul>

    <h4>自定义域名功能</h4>
    <ul>
      <li>需要 API Key 才能管理自定义域名</li>
      <li>支持任意域名的 IP 优选</li>
      <li>会自动包含在 hosts 文件中</li>
    </ul>
  </div>

  <footer style="margin-top: 50px; text-align: center; color: #666;">
    <p>Made with ❤️ by <a href="https://github.com/TinsFox">TinsFox</a></p>
    <p>感谢 <a href="https://github.com/521xueweihan/GitHub520">GitHub520</a> 提供的灵感</p>
  </footer>

  <script src="/index.js"></script>
</body>

</html>